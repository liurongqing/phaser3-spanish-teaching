!function(e){var t={};function o(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(s,i,function(t){return e[t]}.bind(null,i));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var s={};o.r(s),o.d(s,"Main",function(){return a});const i="./",n="./";class a extends Phaser.Scene{constructor(){super("mainScene")}init(){this.words=[{key:"building",setXY:{x:100,y:240},spanish:"建筑"},{key:"house",setXY:{x:240,y:280},setScale:{x:.8,y:.8},spanish:"房子"},{key:"car",setXY:{x:400,y:300},setScale:{x:.8,y:.8},spanish:"车"},{key:"tree",setXY:{x:550,y:250},spanish:"树"}]}preload(){this.load.setBaseURL(i),this.load.setPath(n),this.load.image("background","images/background-city.png"),this.load.image("building","images/building.png"),this.load.image("car","images/car.png"),this.load.image("house","images/house.png"),this.load.image("tree","images/tree.png"),this.load.audio("treeAudio","audio/arbol.mp3"),this.load.audio("carAudio","audio/auto.mp3"),this.load.audio("houseAudio","audio/casa.mp3"),this.load.audio("buildingAudio","audio/edificio.mp3"),this.load.audio("correct","audio/correct.mp3"),this.load.audio("wrong","audio/wrong.mp3")}create(){this.add.sprite(0,0,"background").setOrigin(0,0),this.wordText=this.add.text(30,20,"",{font:"28px Open Sans",fill:"#ffffff"}),this.showQuestionList(),this.correctSound=this.sound.add("correct"),this.wrongSound=this.sound.add("wrong"),this.showNextQuestion()}showQuestionList(){this.items=this.add.group(this.words),this.items.setDepth(1);const e=this.items.getChildren();for(let t=0;t<e.length;t++){let o=e[t];o.setInteractive(),o.correctTween=this.tweens.add({targets:o,scaleX:1.5,scaleY:1.5,duration:300,paused:!0,yoyo:!0,ease:"Quad.easeInOut"}),o.wrongTween=this.tweens.add({targets:o,scaleX:1.5,scaleY:1.5,duration:300,angle:90,paused:!0,yoyo:!0,ease:"Quad.easeInOut"}),o.alphaTween=this.tweens.add({targets:o,alpha:.7,duration:200,paused:!0}),o.on("pointerdown",()=>{this.processAnswer(this.words[t].spanish)?(console.log("success.."),o.correctTween.play()):(console.log("wrong.."),o.wrongTween.play()),this.showNextQuestion()}),o.on("pointerover",function(){o.alphaTween.play()}),o.on("pointerout",function(){o.alphaTween.stop(),o.setAlpha(1)}),this.words[t].sound=this.sound.add(this.words[t].key+"Audio")}}showNextQuestion(){this.nextWord=Phaser.Math.RND.pick(this.words),this.nextWord.sound.play(),this.wordText.setText(this.nextWord.spanish)}processAnswer(e){return e===this.nextWord.spanish?(this.correctSound.play(),console.log("回答正确"),!0):(this.wrongSound.play(),console.log("回答错误"),!1)}}const r=[];for(let e in s)r.push(s[e]);const d={type:Phaser.AUTO,backgroundColor:0,scale:{mode:Phaser.Scale.ENVELOP,parent:"app",autoCenter:Phaser.Scale.CENTER_BOTH,width:640,height:360,min:{width:640,height:360},max:{width:640,height:360}},scene:r,title:"西班牙教学游戏",pixelArt:!1};window.game=new Phaser.Game(d)}]);